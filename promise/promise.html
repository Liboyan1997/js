<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
</html>
<script type="text/javascript">
	//为了避免回调地狱
	// function fun1(f){
	// 	console.log("fun1_同步");
	// 	setTimeout(function(){
	//         console.log("fun1_异步");
	// 		f(); 
	//     },1000);
	// }
	// 
	// function fun2(f){
	// 	console.log("fun2_同步");
	// 	setTimeout(function(){
	//         console.log("fun2_异步");
	// 		f();
	//     },1000);
	// }
	// 
	// function fun3(f){
	// 	console.log("fun3_同步");
	// 	setTimeout(function(){
	//         console.log("fun3_异步");
	// 		f();
	//     },1000);
	// }
	// 
	// function fun4(){
	// 	console.log("fun4_同步");
	// 	setTimeout(function(){
	//         console.log("fun4_异步");
	//     },1000);
	// }
	function fun1() {
		let p = new Promise(function(resolve, reject) {
			console.log("fun1_同步");
			setTimeout(function() {
				console.log("fun1_异步");
				resolve();
			}, 1000);
		});
		return p;
	}

function fun2() {
		let p = new Promise(function(resolve, reject) {
			console.log("fun2_同步");
			setTimeout(function() {
				console.log("fun2_异步");
				resolve();
			}, 1000);
		});
		return p;
	}
	function fun3() {
		let p = new Promise(function(resolve, reject) {
			console.log("fun3_同步");
			setTimeout(function() {
				console.log("fun3_异步");
				resolve();
			}, 1000);
		});
		return p;
	}
	function fun4() {
		console.log("fun4_同步");
		setTimeout(function() {
			console.log("fun4_异步");
		}, 1000);
	}
	fun1().then(fun2).then(fun3).then(fun4)
</script>
